# =============================================================================
# Production Environment Configuration Template (NON-SENSITIVE)
# Renewable Energy IoT Monitoring System - edubad.zut.edu.pl
# =============================================================================
# 
# This file contains NON-SENSITIVE configuration (ports, URLs, server info).
# This file CAN be safely committed to Git.
# 
# SECRETS (passwords, tokens) are stored separately in .env.secrets
# which is NOT committed to Git and transferred separately via SCP.
# 
# Usage:
#   1. Copy this file: cp .env.production.template .env.production
#   2. Update server-specific values (ports, URLs, domain)
#   3. Create .env.secrets with sensitive data (see .env.secrets.template)
#   4. Deploy using: .\scripts\deploy-edubad.ps1 -Full
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
SERVER_IP=edubad.zut.edu.pl
SERVER_PORT=22

# =============================================================================
# SERVICE PORTS
# =============================================================================
NGINX_PORT=8080
NGINX_HTTPS_PORT=443
MQTT_PORT=40098
MQTT_WS_PORT=9001
NODE_RED_PORT=1880
INFLUXDB_PORT=8086
GRAFANA_PORT=3000
API_PORT=3001
FRONTEND_PORT=80

# =============================================================================
# MQTT BROKER (Mosquitto) CONFIGURATION
# =============================================================================
MQTT_ADMIN_USER=admin
MOSQUITTO_LOG_LEVEL=information
MOSQUITTO_MAX_CONNECTIONS=1000
MOSQUITTO_MAX_QUEUED_MESSAGES=100
MOSQUITTO_AUTOSAVE_INTERVAL=1800

# =============================================================================
# INFLUXDB 2.x CONFIGURATION
# =============================================================================
INFLUXDB_ADMIN_USER=admin
INFLUXDB_HTTP_AUTH_ENABLED=false
INFLUXDB_DB=renewable_energy
INFLUXDB_ORG=renewable_energy_org
INFLUXDB_BUCKET=renewable_energy
INFLUXDB_RETENTION=30d
INFLUXDB_SETUP_MODE=setup
INFLUXDB_META_DIR=/var/lib/influxdb2/meta
INFLUXDB_DATA_DIR=/var/lib/influxdb2/data
INFLUXDB_WAL_DIR=/var/lib/influxdb2/wal
INFLUXDB_ENGINE_PATH=/var/lib/influxdb2/engine
INFLUXDB_MAX_CONCURRENT_COMPACTIONS=0
INFLUXDB_HTTP_BIND_ADDRESS=:8086
INFLUXDB_HTTP_PORT=8086
INFLUXDB_HTTP_MAX_CONNECTION_LIMIT=0
INFLUXDB_HTTP_READ_TIMEOUT=30s
INFLUXDB_LOGGING_LEVEL=info
INFLUXDB_LOGGING_FORMAT=auto
INFLUXDB_METRICS_DISABLED=true
INFLUXDB_PPROF_ENABLED=false
INFLUXDB_REPORTING_DISABLED=true

# =============================================================================
# NODE-RED CONFIGURATION
# =============================================================================
NODE_RED_USERNAME=admin
NODE_RED_INFLUXDB_URL=http://influxdb:8086
NODE_RED_INFLUXDB_ORG=renewable_energy_org
NODE_RED_INFLUXDB_BUCKET=renewable_energy

# =============================================================================
# GRAFANA CONFIGURATION
# =============================================================================
GRAFANA_ADMIN_USER=admin
GF_SERVER_ROOT_URL=http://edubad.zut.edu.pl:8080/grafana
GF_SERVER_SERVE_FROM_SUB_PATH=true

# =============================================================================
# API BACKEND (Express.js) CONFIGURATION
# =============================================================================
INFLUXDB_URL=http://influxdb:8086
CORS_ORIGIN=http://edubad.zut.edu.pl:8080

# =============================================================================
# FRONTEND (React/Vite) CONFIGURATION
# =============================================================================
VITE_API_URL=http://edubad.zut.edu.pl:8080
VITE_API_BASE_URL=http://edubad.zut.edu.pl:8080/api
VITE_INFLUXDB_ORG=renewable_energy_org
VITE_INFLUXDB_BUCKET=renewable_energy
