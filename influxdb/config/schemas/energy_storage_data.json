{
  "name": "energy_storage_data",
  "description": "Energy storage system data with comprehensive monitoring fields",
  "columns": [
    {
      "name": "timestamp",
      "type": "TIMESTAMP",
      "primary_key": true
    },
    {
      "name": "storage_id",
      "type": "STRING",
      "tag": true
    },
    {
      "name": "storage_type",
      "type": "STRING",
      "tag": true
    },
    {
      "name": "location",
      "type": "STRING",
      "tag": true
    },
    {
      "name": "status",
      "type": "STRING",
      "tag": true
    },
    {
      "name": "state_of_charge",
      "type": "DOUBLE",
      "description": "State of charge percentage (0-100)"
    },
    {
      "name": "charge_power",
      "type": "DOUBLE",
      "description": "Charge power in watts (positive values)"
    },
    {
      "name": "discharge_power",
      "type": "DOUBLE",
      "description": "Discharge power in watts (positive values)"
    },
    {
      "name": "voltage",
      "type": "DOUBLE",
      "description": "Battery voltage in volts"
    },
    {
      "name": "current",
      "type": "DOUBLE",
      "description": "Current in amperes (positive for charging, negative for discharging)"
    },
    {
      "name": "temperature",
      "type": "DOUBLE",
      "description": "Battery temperature in Celsius"
    },
    {
      "name": "cycle_count",
      "type": "INTEGER",
      "description": "Total charge/discharge cycle count"
    },
    {
      "name": "health_status",
      "type": "STRING",
      "description": "Battery health status (excellent, good, fair, poor, critical)"
    },
    {
      "name": "capacity_remaining",
      "type": "DOUBLE",
      "description": "Remaining capacity in watt-hours"
    },
    {
      "name": "capacity_total",
      "type": "DOUBLE",
      "description": "Total capacity in watt-hours"
    },
    {
      "name": "efficiency",
      "type": "DOUBLE",
      "description": "Round-trip efficiency percentage"
    },
    {
      "name": "internal_resistance",
      "type": "DOUBLE",
      "description": "Internal resistance in ohms"
    },
    {
      "name": "cell_voltage_min",
      "type": "DOUBLE",
      "description": "Minimum cell voltage in volts"
    },
    {
      "name": "cell_voltage_max",
      "type": "DOUBLE",
      "description": "Maximum cell voltage in volts"
    },
    {
      "name": "cell_voltage_avg",
      "type": "DOUBLE",
      "description": "Average cell voltage in volts"
    },
    {
      "name": "cell_temperature_min",
      "type": "DOUBLE",
      "description": "Minimum cell temperature in Celsius"
    },
    {
      "name": "cell_temperature_max",
      "type": "DOUBLE",
      "description": "Maximum cell temperature in Celsius"
    },
    {
      "name": "cell_temperature_avg",
      "type": "DOUBLE",
      "description": "Average cell temperature in Celsius"
    },
    {
      "name": "depth_of_discharge",
      "type": "DOUBLE",
      "description": "Depth of discharge percentage"
    },
    {
      "name": "time_to_empty",
      "type": "INTEGER",
      "description": "Time to empty in minutes at current discharge rate"
    },
    {
      "name": "time_to_full",
      "type": "INTEGER",
      "description": "Time to full charge in minutes at current charge rate"
    },
    {
      "name": "age_days",
      "type": "INTEGER",
      "description": "Age of battery in days since installation"
    },
    {
      "name": "calendar_life_remaining",
      "type": "DOUBLE",
      "description": "Remaining calendar life percentage"
    },
    {
      "name": "cycle_life_remaining",
      "type": "DOUBLE",
      "description": "Remaining cycle life percentage"
    },
    {
      "name": "state_of_health",
      "type": "DOUBLE",
      "description": "State of health percentage (overall battery condition)"
    },
    {
      "name": "charge_efficiency",
      "type": "DOUBLE",
      "description": "Charge efficiency percentage"
    },
    {
      "name": "discharge_efficiency",
      "type": "DOUBLE",
      "description": "Discharge efficiency percentage"
    },
    {
      "name": "standby_loss",
      "type": "DOUBLE",
      "description": "Standby power loss in watts"
    },
    {
      "name": "alarm_status",
      "type": "STRING",
      "description": "Current alarm status (none, warning, critical)"
    },
    {
      "name": "maintenance_required",
      "type": "BOOLEAN",
      "description": "Whether maintenance is required"
    },
    {
      "name": "last_maintenance_date",
      "type": "TIMESTAMP",
      "description": "Date of last maintenance"
    },
    {
      "name": "next_maintenance_date",
      "type": "TIMESTAMP",
      "description": "Date of next scheduled maintenance"
    }
  ],
  "indexes": [
    {
      "columns": ["storage_id", "timestamp"],
      "type": "BTREE"
    },
    {
      "columns": ["storage_type", "timestamp"],
      "type": "BTREE"
    },
    {
      "columns": ["location", "timestamp"],
      "type": "BTREE"
    },
    {
      "columns": ["status", "timestamp"],
      "type": "BTREE"
    },
    {
      "columns": ["health_status", "timestamp"],
      "type": "BTREE"
    }
  ],
  "partitioning": {
    "strategy": "time",
    "interval": "1d"
  },
  "compression": {
    "algorithm": "zstd",
    "level": 3
  }
} 