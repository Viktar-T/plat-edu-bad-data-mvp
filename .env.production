# =============================================================================
# Production Environment Variables
# Renewable Energy IoT Monitoring System
# Mikrus VPS: robert108.mikrus.xyz
# =============================================================================
# 
# Ready-to-use production configuration with Nginx reverse proxy
# Just clone the repo and run: sudo docker-compose up -d
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
SERVER_IP=robert108.mikrus.xyz
SERVER_PORT=10108

# =============================================================================
# SERVICE PORTS
# =============================================================================
# Nginx Reverse Proxy Ports
NGINX_PORT=20108
NGINX_HTTPS_PORT=30108

# MQTT Broker (direct connection, not via Nginx)
MQTT_PORT=40098
MQTT_WS_PORT=9001

# Internal Service Ports (exposed via Nginx, not directly)
# Note: These are internal ports. Services are accessed via Nginx reverse proxy
NODE_RED_PORT=1880
INFLUXDB_PORT=8086
GRAFANA_PORT=3000
API_PORT=3001
FRONTEND_PORT=80

# =============================================================================
# MQTT BROKER (Mosquitto) CONFIGURATION
# =============================================================================
MQTT_ADMIN_USER=admin
MQTT_ADMIN_PASSWORD=admin_password_456
MOSQUITTO_LOG_LEVEL=information
MOSQUITTO_MAX_CONNECTIONS=1000
MOSQUITTO_MAX_QUEUED_MESSAGES=100
MOSQUITTO_AUTOSAVE_INTERVAL=1800

# =============================================================================
# INFLUXDB 2.x CONFIGURATION
# =============================================================================
# Authentication & Access
INFLUXDB_ADMIN_USER=admin
INFLUXDB_ADMIN_PASSWORD=admin_password_123
INFLUXDB_ADMIN_TOKEN=renewable_energy_admin_token_123
INFLUXDB_HTTP_AUTH_ENABLED=false

# Database Configuration
INFLUXDB_DB=renewable_energy
INFLUXDB_ORG=renewable_energy_org
INFLUXDB_BUCKET=renewable_energy
INFLUXDB_RETENTION=30d

# Initial Setup
INFLUXDB_SETUP_MODE=setup

# Performance & Storage
INFLUXDB_META_DIR=/var/lib/influxdb2/meta
INFLUXDB_DATA_DIR=/var/lib/influxdb2/data
INFLUXDB_WAL_DIR=/var/lib/influxdb2/wal
INFLUXDB_ENGINE_PATH=/var/lib/influxdb2/engine
INFLUXDB_MAX_CONCURRENT_COMPACTIONS=0

# HTTP Configuration
INFLUXDB_HTTP_BIND_ADDRESS=:8086
INFLUXDB_HTTP_PORT=8086
INFLUXDB_HTTP_MAX_CONNECTION_LIMIT=0
INFLUXDB_HTTP_READ_TIMEOUT=30s

# Logging & Monitoring
INFLUXDB_LOGGING_LEVEL=info
INFLUXDB_LOGGING_FORMAT=auto
INFLUXDB_METRICS_DISABLED=true
INFLUXDB_PPROF_ENABLED=false
INFLUXDB_REPORTING_DISABLED=true

# =============================================================================
# NODE-RED CONFIGURATION
# =============================================================================
NODE_RED_USERNAME=admin
NODE_RED_PASSWORD=adminpassword

# Node-RED InfluxDB Integration
NODE_RED_INFLUXDB_URL=http://influxdb:8086
NODE_RED_INFLUXDB_ORG=renewable_energy_org
NODE_RED_INFLUXDB_BUCKET=renewable_energy
NODE_RED_INFLUXDB_TOKEN=renewable_energy_admin_token_123

# =============================================================================
# GRAFANA CONFIGURATION
# =============================================================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Grafana Server Configuration (Nginx reverse proxy with sub-path)
GF_SERVER_ROOT_URL=http://robert108.mikrus.xyz:20108/grafana
GF_SERVER_SERVE_FROM_SUB_PATH=true

# =============================================================================
# API BACKEND (Express.js) CONFIGURATION
# =============================================================================
# InfluxDB Configuration
INFLUXDB_URL=http://influxdb:8086
TEST_TOKEN=renewable_energy_admin_token_123

# CORS Configuration
CORS_ORIGIN=http://robert108.mikrus.xyz:20108

# =============================================================================
# FRONTEND (React/Vite) CONFIGURATION
# =============================================================================
# API Configuration (accessed via Nginx)
VITE_API_URL=http://robert108.mikrus.xyz:20108/api
VITE_API_BASE_URL=http://robert108.mikrus.xyz:20108/api

# =============================================================================
# SERVICE ACCESS URLs
# =============================================================================
# All services are accessible via Nginx reverse proxy on port 20108:
# - Grafana: http://robert108.mikrus.xyz:20108/grafana/
# - Node-RED: http://robert108.mikrus.xyz:20108/nodered/
# - InfluxDB: http://robert108.mikrus.xyz:20108/influxdb/
# - API: http://robert108.mikrus.xyz:20108/api/
# - Frontend: http://robert108.mikrus.xyz:20108/app/
# - Health: http://robert108.mikrus.xyz:20108/health
# - MQTT: robert108.mikrus.xyz:40098 (direct connection, not via Nginx)