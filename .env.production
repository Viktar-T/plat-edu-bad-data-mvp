# =============================================================================
# Production Environment Variables
# Renewable Energy IoT Monitoring System
# edubad.zut.edu.pl Deployment Configuration
# =============================================================================
# 
# This file contains production configuration for edubad.zut.edu.pl
# 
# IMPORTANT: 
# - Never commit this file to Git (it's in .gitignore)
# - Transfer securely to server using SCP
# - Set file permissions: chmod 600 .env.production
# - Copy to .env on server: cp .env.production .env
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Server hostname or IP address
SERVER_IP=edubad.zut.edu.pl
# SSH port (for production deployments)
SERVER_PORT=22

# =============================================================================
# SERVICE PORTS
# =============================================================================
# Nginx Reverse Proxy Ports
# HTTP port for Nginx (edubad.zut.edu.pl: 8080)
NGINX_PORT=8080
# HTTPS port for Nginx (when SSL is configured)
NGINX_HTTPS_PORT=443

# MQTT Broker Ports
# MQTT broker port (edubad.zut.edu.pl: 40098)
MQTT_PORT=40098
# MQTT WebSocket port
MQTT_WS_PORT=9001

# Internal Service Ports (used internally, exposed via Nginx)
# Note: These are internal ports. Services are accessed via Nginx reverse proxy
NODE_RED_PORT=1880
INFLUXDB_PORT=8086
GRAFANA_PORT=3000
API_PORT=3001
FRONTEND_PORT=80

# =============================================================================
# MQTT BROKER (Mosquitto) CONFIGURATION
# =============================================================================
# MQTT Admin User Credentials
# IMPORTANT: Change these in production!
MQTT_ADMIN_USER=admin
MQTT_ADMIN_PASSWORD=admin_password_456

# Mosquitto Configuration
MOSQUITTO_LOG_LEVEL=information
MOSQUITTO_MAX_CONNECTIONS=1000
MOSQUITTO_MAX_QUEUED_MESSAGES=100
MOSQUITTO_AUTOSAVE_INTERVAL=1800

# =============================================================================
# INFLUXDB 2.x CONFIGURATION
# =============================================================================
# Authentication & Access
# IMPORTANT: Change these in production!
INFLUXDB_ADMIN_USER=admin
INFLUXDB_ADMIN_PASSWORD=admin_password_123
INFLUXDB_ADMIN_TOKEN=simple_token_12345678901234567890123456789012
INFLUXDB_HTTP_AUTH_ENABLED=false

# Database Configuration
INFLUXDB_DB=renewable_energy
INFLUXDB_ORG=renewable_energy_org
INFLUXDB_BUCKET=renewable_energy
INFLUXDB_RETENTION=30d

# Initial Setup
INFLUXDB_SETUP_MODE=setup

# Performance & Storage
INFLUXDB_META_DIR=/var/lib/influxdb2/meta
INFLUXDB_DATA_DIR=/var/lib/influxdb2/data
INFLUXDB_WAL_DIR=/var/lib/influxdb2/wal
INFLUXDB_ENGINE_PATH=/var/lib/influxdb2/engine
INFLUXDB_MAX_CONCURRENT_COMPACTIONS=0

# HTTP Configuration
INFLUXDB_HTTP_BIND_ADDRESS=:8086
INFLUXDB_HTTP_PORT=8086
INFLUXDB_HTTP_MAX_CONNECTION_LIMIT=0
INFLUXDB_HTTP_READ_TIMEOUT=30s

# Logging & Monitoring
INFLUXDB_LOGGING_LEVEL=info
INFLUXDB_LOGGING_FORMAT=auto
INFLUXDB_METRICS_DISABLED=true
INFLUXDB_PPROF_ENABLED=false
INFLUXDB_REPORTING_DISABLED=true

# =============================================================================
# NODE-RED CONFIGURATION
# =============================================================================
# Node-RED Authentication
# IMPORTANT: Change these in production!
NODE_RED_USERNAME=admin
NODE_RED_PASSWORD=adminpassword
NODE_RED_CREDENTIAL_SECRET=simple_secret_12345678901234567890123456789012

# Node-RED InfluxDB Integration
NODE_RED_INFLUXDB_URL=http://influxdb:8086
NODE_RED_INFLUXDB_ORG=renewable_energy_org
NODE_RED_INFLUXDB_BUCKET=renewable_energy
NODE_RED_INFLUXDB_TOKEN=simple_token_12345678901234567890123456789012
INFLUXDB_TOKEN=simple_token_12345678901234567890123456789012

# =============================================================================
# GRAFANA CONFIGURATION
# =============================================================================
# Grafana Authentication
# IMPORTANT: Change these in production!
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Grafana Server Configuration
# For edubad.zut.edu.pl with Nginx reverse proxy:
GF_SERVER_ROOT_URL=http://edubad.zut.edu.pl:8080/grafana
# Must be true when using Nginx reverse proxy with sub-path
GF_SERVER_SERVE_FROM_SUB_PATH=true

# =============================================================================
# API BACKEND (Express.js) CONFIGURATION
# =============================================================================
# InfluxDB Configuration
INFLUXDB_URL=http://influxdb:8086
TEST_TOKEN=simple_token_12345678901234567890123456789012

# CORS Configuration
# For edubad.zut.edu.pl:
CORS_ORIGIN=http://edubad.zut.edu.pl:8080

# =============================================================================
# FRONTEND (React/Vite) CONFIGURATION
# =============================================================================
# API Configuration
# For edubad.zut.edu.pl with Nginx:
VITE_API_URL=http://edubad.zut.edu.pl:8080/api
VITE_API_BASE_URL=http://edubad.zut.edu.pl:8080/api

# =============================================================================
# SECURITY NOTES
# =============================================================================
# IMPORTANT: This is an MVP/Study version with simple default passwords.
# For production deployments, change all default passwords!
# 
# Services that need password changes:
# - MQTT_ADMIN_PASSWORD
# - INFLUXDB_ADMIN_PASSWORD
# - INFLUXDB_ADMIN_TOKEN
# - GRAFANA_ADMIN_PASSWORD
# - NODE_RED_PASSWORD
# - NODE_RED_CREDENTIAL_SECRET
# 
# Generate secure tokens using: openssl rand -hex 32
